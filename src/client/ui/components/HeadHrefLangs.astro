---
import { getAbsoluteLocaleUrl } from 'astro:i18n';

// TODO: Should check
// const params = Object.entries(Astro.params).reduce<Record<string, string>>(
//   (acc, [key, value]) => {
//     return value !== undefined ? { ...acc, [key]: String(value) } : acc;
//   },
//   {},
// );

const hrefLangs = ['ko', 'en', 'ja'].map((locale) => ({
  href: getAbsoluteLocaleUrl(
    locale,
    Astro.url.pathname.replace('/en', '').replace('/ja', '').replace('/ko', ''),
  ),
  hreflang: locale,
}));
---

{
  hrefLangs.map(({ href, hreflang }) => (
    <link rel='alternate' href={href} hreflang={hreflang} />
  ))
}
