---
import { Icon } from 'astro-icon/components';

interface Props {
  to: string;
}

const { to } = Astro.props;
---

<index-button data-to={to}>
  <button
    class:list={'duration-50 flex w-full appearance-none items-center justify-between border-t-2 border-foreground py-2 pr-2 text-start text-lg transition-colors ease-out-expo hover:bg-foreground hover:text-background'}
    type='button'
  >
    <slot />
    <Icon name='lucide:arrow-right' />
  </button>
</index-button>

<script>
  class IndexButton extends HTMLElement {
    constructor() {
      super();

      const button = this.querySelector('button');
      const to = this.dataset.to;

      if (!button || !to) return;

      button.addEventListener('click', () => {
        document.getElementById(to)?.scrollIntoView({ behavior: 'smooth' });
      });
    }
  }

  customElements.define('index-button', IndexButton);
</script>
